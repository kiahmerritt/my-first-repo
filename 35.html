<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>プロフィール登録</title>
        <script src="https://cdn.jsdelivr.net/npm/dompurify@2.4.0/dist/purify.min.js"></script>
    </head>
    <body>

        <h2>プロフィール登録</h2>

        <label for="nickname">ニックネーム：</label>
        <input type="text" id="nickname" placeholder="例：さくら">

        <label for="bio">自己紹介：</label>
        <textarea id="bio" rows="4" placeholder="例：こんにちは！<b>よろしく</b>お願いします！"></textarea>

        <button onclick="showProfile()">表示</button>

        <div id="profile">
            <p id="nameArea"></p>
            <p id="bioArea"></p>
        </div>

        <script>
            function showProfile() {
            var name = document.getElementById("nickname").value;
            var bio = document.getElementById("bio").value;

            // ニックネームはコード完全除去 → textContentで表示（エスケープ済）
            document.getElementById("nameArea").textContent = name;

            // 自己紹介は <b> と <i> だけ許可
            var safeBio = DOMPurify.sanitize(bio, { ALLOWED_TAGS: ['b', 'i'] });
            document.getElementById("bioArea").innerHTML = safeBio;
            }
        </script>
    </body>
</html>
